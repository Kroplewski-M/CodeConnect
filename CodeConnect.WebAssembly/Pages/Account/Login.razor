@page "/Account/Login"
@using DomainLayer.Constants
@inherits LoginBase

<div class="flex flex-col md:space-x-8  md:flex-row place-content-center">
    <div class="rounded-md dark:bg-dark-secondaryColor bg-light-secondaryColor mb-5 p-5 md:max-w-[500px] w-[90%] text-center">
        <h1 class="text-4xl text-dark-supportColor font-bold">Login</h1>
        <EditForm FormName="Login" Model="LoginForm" OnSubmit="SubmitLogin">
            
            <div class="mt-5">
                <InputText @bind-Value="LoginForm.Email" id="email" placeholder="Email or username"
                           class="bg-transparent border-b-4 text-dark-supportColor border-dark-supportColor rounded-md font-bold mb-2 w-[80%] pl-[5px] outline-none">
                </InputText>
                <div>
                    @if (LoginErrors.Any(x => x.PropertyName == Consts.ClaimTypes.Email))
                    {
                        foreach (var error in LoginErrors.Where(x=> x.PropertyName == Consts.ClaimTypes.Email))
                        {
                            <p class="text-red-800 font-bold"><span class="fa fa-circle-exclamation text-red-800"></span> @error.ErrorMessage</p>
                        }
                    }
                </div>
            </div>
            <div class="mt-5">
                <InputText type="password" @bind-Value="LoginForm.Password" id="password" placeholder="Password"
                           class="bg-transparent border-b-4 text-dark-supportColor border-dark-supportColor rounded-md font-bold mb-2 w-[80%] pl-[5px] outline-none">
                </InputText>
                <div>
                    @if (LoginErrors.Any(x => x.PropertyName == Consts.ClaimTypes.Password))
                    {
                        foreach (var error in LoginErrors.Where(x=> x.PropertyName == Consts.ClaimTypes.Password))
                        {
                            <p class="text-red-800 font-bold"><span class="fa fa-circle-exclamation text-red-800"></span> @error.ErrorMessage</p>
                        }
                    }
                </div>
            </div>
            <div class="mt-5">
                <button disabled="@DisableLogin" type="submit" class="cursor-pointer rounded-md border-4 border-solid border-dark-supportColor px-3 py-2 text-light-primaryColor hover:bg-dark-supportColor hover:text-light-secondaryColor font-bold">@(DisableLogin?"Trying to find you...":"Login")</button>
            </div>
            <div class="mt-5">
                @if (LoginErrors.Any(x => x.PropertyName == "ResponseError"))
                {
                    foreach (var error in LoginErrors.Where(x=> x.PropertyName == "ResponseError"))
                    {
                        <p class="text-red-800 font-bold"><span class="fa fa-circle-exclamation text-red-800"></span> @error.ErrorMessage</p>
                    }
                }
            </div>
        </EditForm>
    </div>
    <div class="">
        <h1 class="text-5xl text-dark-secondaryColor font-bold">Welcome back!</h1>
        <div class="dark:text-dark-supportColor text-light-supportColor mt-1">
            <p class="mt-2">Login now to get back to sharing and connecting with nerds!</p>
        </div>
        <h3 class="mt-5 text-dark-secondaryColor font-bold font-medium">Don't have an account?</h3>
        <div class="mt-5">
            <a href="/Account/Register" class="rounded-md  border-4 border-solid hover:border-light-secondaryColor border-transparent px-3 py-2 text-dark-supportColor/90 bg-dark-secondaryColor hover:bg-dark-secondaryColor/80"><i class="bi bi-code-square"></i>Create an account</a>
        </div>
    </div>
</div>

