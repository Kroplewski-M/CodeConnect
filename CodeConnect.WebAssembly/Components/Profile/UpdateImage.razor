@using DomainLayer.Constants
@using CodeConnect.WebAssembly.Components.General
@inherits UpdateImageBase
<div class="top-0 left-0 fixed z-[300] w-[100vw] h-[100vh] backdrop-blur-md grid place-content-center">
    <div class="shadow-xl md:w-[500px] w-[90%]  mt-5 relative bg-dark-secondaryColor p-5 rounded-md -mt-16">
        <button @onclick="Cancel" class="cursor-pointer rounded-md px-3 py-2 text-light-supportColor bg-light-primaryColor hover:bg-light-primaryColor/70" ><i class="fa-solid fa-angles-left"></i> Back</button>
        <h3 class="font-bold dark:text-dark-supportColor text-light-primaryColor text-4xl mt-4 text-center"> Update @(UpdateOfImageType == Consts.ImageType.ProfileImages ? "Profile" : "Background") Image</h3>
        <div class="w-[300px] mx-auto">
            <InputFile OnChange="HandleFileSelection" accept="image/*" class="w-[100%] rounded-md px-4 h-10 cursor-pointer bg-white border border-black/10 dark:border-dark-supportColor shadow-sm mr-4 mt-5 grid place-content-center"></InputFile>
        </div>
        @if (!Loading && !string.IsNullOrEmpty(SelectedImg.ImgBase64))
        {
            <div class="mt-5 mb-2">
                <img class="rounded w-[90%] mx-auto" src="@SelectedImg.ImgBase64" alt="preview">
            </div>
        }
        @if(Loading)
        {
            <div class="w-5 mx-auto mt-5">
                <i class="fa-solid fa-spinner fa-spin fa-xl text-light-primaryColor"></i>
            </div>
        }
        <div class="w-[150px] h-[30px] mx-auto mt-5 mb-5">
            <button disabled="@Loading" @onclick="SaveImg" class="cursor-pointer rounded-md bg-gray-200 hover:bg-gray-300 w-[100%] h-[100%] font-bold ">
                <FaIcon Icon="@(Loading ? "" : FaIcons.Save)" /> 
                @(Loading ? "Saving..." : "Save")
            </button>
        </div>

    </div>
</div>

